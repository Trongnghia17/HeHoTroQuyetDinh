{"remainingRequest":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\babel-loader\\lib\\index.js!D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\src\\components\\SelectCinemas-v2.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\src\\components\\SelectCinemas-v2.vue","mtime":1716765260619},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\babel.config.js","mtime":1715934334184},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBNb3ZpZUNhcmRWMiBmcm9tICIuL01vdmllQ2FyZC12Mi52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTW92aWVDYXJkVjIKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBnZW5yZXM6IFtdLAogICAgICBmaWx0ZXJlZE1vdmllczogW10sCiAgICAgIGNpbmVtYXM6IFt7CiAgICAgICAgaWQ6IDEsCiAgICAgICAgbmFtZTogIkJldGEgVGhhbmggWHXDom4iLAogICAgICAgIGxhdDogMjAuOTk4NTc0LAogICAgICAgIGxuZzogMTA1LjgxMTI5NSwKICAgICAgICBkaXN0YW5jZTogbnVsbCwKICAgICAgICBzZWF0czogMTYzLAogICAgICAgIHNob3d0aW1lczogewogICAgICAgICAgJzIwMjQtMDUtMjcnOiBbJzc6MDAnLCAnMTg6NDUnLCAnMjI6MDAnXSwKICAgICAgICAgICcyMDI0LTA1LTI4JzogWycxNjowMCcsICcxODo0NScsICcyMDo0NScsICcyMjo1MCddCiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgaWQ6IDIsCiAgICAgICAgbmFtZTogIkJldGEgTeG7uSDEkMOsbmgiLAogICAgICAgIGxhdDogMjEuMDI4NTExLAogICAgICAgIGxuZzogMTA1Ljc4MDE5NywKICAgICAgICBkaXN0YW5jZTogbnVsbCwKICAgICAgICBzZWF0czogMTIyLAogICAgICAgIHNob3d0aW1lczogewogICAgICAgICAgJzIwMjQtMDUtMjcnOiBbJzg6MzAnLCAnMTA6NDUnLCAnMTQ6MDAnXSwKICAgICAgICAgICcyMDI0LTA1LTI4JzogWycxNDo1MCcsICcxNjowMCcsICcxODo0NScsICcyMDowMCddCiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgaWQ6IDMsCiAgICAgICAgbmFtZTogIkJldGEgR2nhuqNpIFBow7NuZyIsCiAgICAgICAgbGF0OiAyMS4wMDAwMjgsCiAgICAgICAgbG5nOiAxMDUuODM5MDIzLAogICAgICAgIGRpc3RhbmNlOiBudWxsLAogICAgICAgIHNlYXRzOiAxMzAsCiAgICAgICAgc2hvd3RpbWVzOiB7CiAgICAgICAgICAnMjAyNC0wNS0yNyc6IFsnODowMCcsICc5OjQ1JywgJzExOjAwJywgJzEyOjQ1J10sCiAgICAgICAgICAnMjAyNC0wNS0yOCc6IFsnMTQ6MzAnLCAnMTY6MDAnXQogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGlkOiA0LAogICAgICAgIG5hbWU6ICJCZXRhIFbEg24gUXXDoW4iLAogICAgICAgIGxhdDogMjAuOTU5NTU2LAogICAgICAgIGxuZzogMTA1Ljc3ODc3NywKICAgICAgICBkaXN0YW5jZTogbnVsbCwKICAgICAgICBzZWF0czogMTM0LAogICAgICAgIHNob3d0aW1lczogewogICAgICAgICAgJzIwMjQtMDUtMjcnOiBbJzE2OjAwJywgJzE4OjQ1JywgJzIwOjAwJ10sCiAgICAgICAgICAnMjAyNC0wNS0yOCc6IFsnMTA6NDUnLCAnMTY6NTAnXQogICAgICAgIH0KICAgICAgfV0sCiAgICAgIGN1cnJlbnRQb3NpdGlvbjogewogICAgICAgIGxhdDogbnVsbCwKICAgICAgICBsbmc6IG51bGwKICAgICAgfSwKICAgICAgc2VsZWN0ZWRDaW5lbWFJZDogMSwKICAgICAgLy8gRGVmYXVsdCBzZWxlY3RlZCBjaW5lbWEKICAgICAgYXZhaWxhYmxlRGF0ZXM6IHRoaXMuZ2V0TmV4dFdlZWtEYXRlcygpLAogICAgICBzZWxlY3RlZERhdGU6IHRoaXMuZ2V0RGVmYXVsdERhdGUoKSwKICAgICAgLy8gRGVmYXVsdCBzZWxlY3RlZCBkYXRlCiAgICAgIGNvbmZpcm1hdGlvbkRpYWxvZzogZmFsc2UsCiAgICAgIHNlbGVjdGVkQ2luZW1hOiB7fSwKICAgICAgc2VsZWN0ZWRUaW1lOiAnJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBmaWx0ZXJlZENpbmVtYXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmNpbmVtYXMuZmlsdGVyKGNpbmVtYSA9PiBjaW5lbWEuaWQgPT09IHRoaXMuc2VsZWN0ZWRDaW5lbWFJZCkubWFwKGNpbmVtYSA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIC4uLmNpbmVtYSwKICAgICAgICAgIGF2YWlsYWJsZVRpbWVzOiBjaW5lbWEuc2hvd3RpbWVzW3RoaXMuc2VsZWN0ZWREYXRlXSB8fCBbXQogICAgICAgIH07CiAgICAgIH0pOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgZmV0Y2hNb3ZpZXMoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRodHRwLmdldCgiL21vdmllL3BvcHVsYXIiKTsKICAgICAgICB0aGlzLm1vdmllcyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0czsKICAgICAgICB0aGlzLmZpbHRlcmVkTW92aWVzID0gdGhpcy5tb3ZpZXMuc2xpY2UoMCwgMyk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgZ2V0Q3VycmVudFBvc2l0aW9uKCkgewogICAgICBpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7CiAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihwb3NpdGlvbiA9PiB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbi5sYXQgPSBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7CiAgICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbi5sbmcgPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlOwogICAgICAgICAgdGhpcy5jYWxjdWxhdGVEaXN0YW5jZXMoKTsKICAgICAgICB9LCBlcnJvciA9PiB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBnZXR0aW5nIGxvY2F0aW9uOiAiLCBlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQoIkdlb2xvY2F0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyLiIpOwogICAgICB9CiAgICB9LAogICAgY2FsY3VsYXRlRGlzdGFuY2VzKCkgewogICAgICBpZiAodGhpcy5jdXJyZW50UG9zaXRpb24ubGF0ICE9PSBudWxsICYmIHRoaXMuY3VycmVudFBvc2l0aW9uLmxuZyAhPT0gbnVsbCkgewogICAgICAgIHRoaXMuY2luZW1hcy5mb3JFYWNoKGNpbmVtYSA9PiB7CiAgICAgICAgICBjaW5lbWEuZGlzdGFuY2UgPSB0aGlzLmdldERpc3RhbmNlRnJvbUxhdExvbkluS20odGhpcy5jdXJyZW50UG9zaXRpb24ubGF0LCB0aGlzLmN1cnJlbnRQb3NpdGlvbi5sbmcsIGNpbmVtYS5sYXQsIGNpbmVtYS5sbmcpLnRvRml4ZWQoMik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXREaXN0YW5jZUZyb21MYXRMb25JbkttKGxhdDEsIGxvbjEsIGxhdDIsIGxvbjIpIHsKICAgICAgY29uc3QgUiA9IDYzNzE7IC8vIFJhZGl1cyBvZiB0aGUgZWFydGggaW4ga20KICAgICAgY29uc3QgZExhdCA9IHRoaXMuZGVnMnJhZChsYXQyIC0gbGF0MSk7CiAgICAgIGNvbnN0IGRMb24gPSB0aGlzLmRlZzJyYWQobG9uMSAtIGxvbjIpOwogICAgICBjb25zdCBhID0gTWF0aC5zaW4oZExhdCAvIDIpICogTWF0aC5zaW4oZExhdCAvIDIpICsgTWF0aC5jb3ModGhpcy5kZWcycmFkKGxhdDEpKSAqIE1hdGguY29zKHRoaXMuZGVnMnJhZChsYXQyKSkgKiBNYXRoLnNpbihkTG9uIC8gMikgKiBNYXRoLnNpbihkTG9uIC8gMik7CiAgICAgIGNvbnN0IGMgPSAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpOwogICAgICBjb25zdCBkaXN0YW5jZSA9IFIgKiBjOyAvLyBEaXN0YW5jZSBpbiBrbQogICAgICByZXR1cm4gZGlzdGFuY2U7CiAgICB9LAogICAgZGVnMnJhZChkZWcpIHsKICAgICAgcmV0dXJuIGRlZyAqIChNYXRoLlBJIC8gMTgwKTsKICAgIH0sCiAgICBnZXREZWZhdWx0RGF0ZSgpIHsKICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICBjb25zdCB5eXl5ID0gdG9kYXkuZ2V0RnVsbFllYXIoKTsKICAgICAgY29uc3QgbW0gPSBTdHJpbmcodG9kYXkuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7IC8vIE1vbnRocyBhcmUgemVyby1iYXNlZAogICAgICBjb25zdCBkZCA9IFN0cmluZyh0b2RheS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7CiAgICAgIHJldHVybiBgJHt5eXl5fS0ke21tfS0ke2RkfWA7CiAgICB9LAogICAgZ2V0TmV4dFdlZWtEYXRlcygpIHsKICAgICAgY29uc3QgZGF0ZXMgPSBbXTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA3OyBpKyspIHsKICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyBpKTsKICAgICAgICBkYXRlcy5wdXNoKGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdKTsKICAgICAgfQogICAgICByZXR1cm4gZGF0ZXM7CiAgICB9LAogICAgZm9ybWF0RGF0ZShkYXRlKSB7CiAgICAgIGNvbnN0IFt5ZWFyLCBtb250aCwgZGF5XSA9IGRhdGUuc3BsaXQoJy0nKTsKICAgICAgY29uc3QgZGF0ZU9iaiA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF5KTsKICAgICAgY29uc3QgZGF5TmFtZXMgPSBbJ0NOJywgJ1QyJywgJ1QzJywgJ1Q0JywgJ1Q1JywgJ1Q2JywgJ1Q3J107CiAgICAgIHJldHVybiBgJHtkYXl9LyR7bW9udGh9IC0gJHtkYXlOYW1lc1tkYXRlT2JqLmdldERheSgpXX1gOwogICAgfSwKICAgIHVwZGF0ZUJvb2tpbmcoY2luZW1hKSB7CiAgICAgIGlmIChjaW5lbWEuc2VsZWN0ZWREYXRlICYmIGNpbmVtYS5zZWxlY3RlZFRpbWUpIHsKICAgICAgICBjaW5lbWEuYm9va2luZ0RldGFpbHMgPSB7CiAgICAgICAgICBkYXRlOiBjaW5lbWEuc2VsZWN0ZWREYXRlLAogICAgICAgICAgdGltZTogY2luZW1hLnNlbGVjdGVkVGltZQogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RDaW5lbWEoY2luZW1hKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRDaW5lbWFJZCA9IGNpbmVtYS5pZDsKICAgIH0sCiAgICBzZWxlY3REYXRlKGRhdGUpIHsKICAgICAgdGhpcy5zZWxlY3RlZERhdGUgPSBkYXRlOwogICAgfSwKICAgIG9wZW5Db25maXJtYXRpb25Nb2RhbChjaW5lbWEsIHRpbWUpIHsKICAgICAgdGhpcy5zZWxlY3RlZENpbmVtYSA9IGNpbmVtYTsKICAgICAgdGhpcy5zZWxlY3RlZFRpbWUgPSB0aW1lOwogICAgICB0aGlzLmNvbmZpcm1hdGlvbkRpYWxvZyA9IHRydWU7CiAgICB9LAogICAgY2xvc2VDb25maXJtYXRpb25Nb2RhbCgpIHsKICAgICAgdGhpcy5jb25maXJtYXRpb25EaWFsb2cgPSBmYWxzZTsKICAgIH0sCiAgICBjb25maXJtQm9va2luZygpIHsKICAgICAgdGhpcy5jb25maXJtYXRpb25EaWFsb2cgPSBmYWxzZTsKICAgICAgLy8gUmVkaXJlY3QgdG8gc2VhdCBzZWxlY3Rpb24gcGFnZQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ3NlYXQtc2VsZWN0aW9uJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGNpbmVtYUlkOiB0aGlzLnNlbGVjdGVkQ2luZW1hLmlkLAogICAgICAgICAgdGltZTogdGhpcy5zZWxlY3RlZFRpbWUKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0Q3VycmVudFBvc2l0aW9uKCk7CiAgICB0aGlzLmZldGNoTW92aWVzKCk7CiAgfQp9Ow=="},{"version":3,"names":["MovieCardV2","components","data","genres","filteredMovies","cinemas","id","name","lat","lng","distance","seats","showtimes","currentPosition","selectedCinemaId","availableDates","getNextWeekDates","selectedDate","getDefaultDate","confirmationDialog","selectedCinema","selectedTime","computed","filteredCinemas","filter","cinema","map","availableTimes","methods","fetchMovies","response","$http","get","movies","results","slice","error","console","log","getCurrentPosition","navigator","geolocation","position","coords","latitude","longitude","calculateDistances","alert","forEach","getDistanceFromLatLonInKm","toFixed","lat1","lon1","lat2","lon2","R","dLat","deg2rad","dLon","a","Math","sin","cos","c","atan2","sqrt","deg","PI","today","Date","yyyy","getFullYear","mm","String","getMonth","padStart","dd","getDate","dates","i","date","setDate","push","toISOString","split","formatDate","year","month","day","dateObj","dayNames","getDay","updateBooking","bookingDetails","time","selectCinema","selectDate","openConfirmationModal","closeConfirmationModal","confirmBooking","$router","params","cinemaId","mounted"],"sources":["src/components/SelectCinemas-v2.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1 class=\"text-center pull-left\" style=\"width: 100%; margin-top: 0px;\">Rạp Chiếu Phim</h1>\r\n    <ul class=\"nav nav-tabs dayofweek\"\r\n        style=\"display: flex; justify-content: center; margin-bottom: 10px; margin-left: 1%; margin-right: 1%;\">\r\n      <li v-for=\"date in availableDates\" :key=\"date\" :class=\"{ active: date === selectedDate }\"\r\n          style=\"margin-right: 10px;\">\r\n        <a @click=\"selectDate(date)\" class=\"dayofweek\">\r\n          <span class=\"font-38\">{{ formatDate(date) }}</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n    <div>\r\n      <v-row>\r\n        <v-col cols=\"3\" class=\"ml-6\">\r\n          <v-select\r\n              v-model=\"selectedCinemaId\"\r\n              :items=\"cinemas\"\r\n              item-text=\"name\"\r\n              item-value=\"id\"\r\n              label=\"Chọn rạp\"\r\n              style=\"margin-bottom: 10px; margin-left: 1%; margin-right: 1%;\"\r\n              :menu-props=\"{ offsetY: true }\"\r\n          >\r\n            <template v-slot:selection=\"data\">\r\n              {{ data.item.name }} - Cách đây: {{ data.item.distance }} km\r\n            </template>\r\n            <template v-slot:item=\"data\">\r\n              {{ data.item.name }} - Cách đây: {{ data.item.distance }} km\r\n            </template>\r\n          </v-select>\r\n        </v-col>\r\n      </v-row>\r\n      <v-container fluid class=\"ml-3\">\r\n        <v-row v-for=\"movie in filteredMovies\" :key=\"movie.id\" class=\"mb-4\">\r\n          <v-col cols=\"3\" sm=\"3\">\r\n            <MovieCardV2 :movie=\"movie\" :genres=\"genres\"/>\r\n          </v-col>\r\n          <v-col cols=\"9\" sm=\"9\">\r\n            <div class=\"tab-content\">\r\n              <div v-for=\"cinema in filteredCinemas\" :key=\"cinema.id\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-md-16\" style=\"margin-bottom:10px;margin-top:10px;\">\r\n                    <span class=\"font-lg ml-12 bold font-transform-uppercase\">2D Lồng tiếng</span>\r\n                  </div>\r\n                  <div class=\"col-lg-2 col-md-2 col-sm-3 col-xs-5 text-center ml-9\"\r\n                       v-for=\"time in cinema.availableTimes\"\r\n                       :key=\"time\">\r\n                    <a style=\"width:100%\" @click=\"openConfirmationModal(cinema, time)\" class=\"btn default\">\r\n                      {{ time }}\r\n                    </a>\r\n                    <div class=\"font-smaller padding-top-5\">{{ cinema.seats }} ghế trống</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </v-col>\r\n        </v-row>\r\n      </v-container>\r\n    </div>\r\n\r\n    <v-dialog v-model=\"confirmationDialog\" max-width=\"400\">\r\n      <v-card>\r\n        <v-card-title class=\"headline\">Xác nhận đặt vé</v-card-title>\r\n        <v-card-text>\r\n          Bạn có chắc chắn muốn đặt vé vào lúc {{ selectedTime }} không?\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"green darken-1\" text @click=\"confirmBooking\">Xác nhận</v-btn>\r\n          <v-btn color=\"red darken-1\" text @click=\"closeConfirmationModal\">Hủy</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MovieCardV2 from \"./MovieCard-v2.vue\";\r\n\r\nexport default {\r\n  components: { MovieCardV2 },\r\n  data() {\r\n    return {\r\n      genres: [],\r\n      filteredMovies: [],\r\n      cinemas: [\r\n        {\r\n          id: 1, name: \"Beta Thanh Xuân\", lat: 20.998574, lng: 105.811295, distance: null, seats: 163,\r\n          showtimes: {\r\n            '2024-05-27': ['7:00', '18:45', '22:00'],\r\n            '2024-05-28': ['16:00', '18:45', '20:45', '22:50']\r\n          }\r\n        },\r\n        {\r\n          id: 2, name: \"Beta Mỹ Đình\", lat: 21.028511, lng: 105.780197, distance: null, seats: 122,\r\n          showtimes: {\r\n            '2024-05-27': ['8:30', '10:45', '14:00'],\r\n            '2024-05-28': ['14:50', '16:00', '18:45', '20:00']\r\n          }\r\n        },\r\n        {\r\n          id: 3, name: \"Beta Giải Phóng\", lat: 21.000028, lng: 105.839023, distance: null, seats: 130,\r\n          showtimes: {\r\n            '2024-05-27': ['8:00', '9:45', '11:00', '12:45'],\r\n            '2024-05-28': ['14:30', '16:00']\r\n          }\r\n        },\r\n        {\r\n          id: 4, name: \"Beta Văn Quán\", lat: 20.959556, lng: 105.778777, distance: null, seats: 134,\r\n          showtimes: {\r\n            '2024-05-27': ['16:00', '18:45', '20:00'],\r\n            '2024-05-28': ['10:45', '16:50']\r\n          }\r\n        }\r\n      ],\r\n      currentPosition: { lat: null, lng: null },\r\n      selectedCinemaId: 1, // Default selected cinema\r\n      availableDates: this.getNextWeekDates(),\r\n      selectedDate: this.getDefaultDate(), // Default selected date\r\n      confirmationDialog: false,\r\n      selectedCinema: {},\r\n      selectedTime: ''\r\n    };\r\n  },\r\n  computed: {\r\n    filteredCinemas() {\r\n      return this.cinemas.filter(cinema => cinema.id === this.selectedCinemaId)\r\n          .map(cinema => {\r\n            return {\r\n              ...cinema,\r\n              availableTimes: cinema.showtimes[this.selectedDate] || []\r\n            };\r\n          });\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchMovies() {\r\n      try {\r\n        const response = await this.$http.get(\"/movie/popular\");\r\n        this.movies = response.data.results;\r\n        this.filteredMovies = this.movies.slice(0, 3);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    getCurrentPosition() {\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(\r\n            (position) => {\r\n              this.currentPosition.lat = position.coords.latitude;\r\n              this.currentPosition.lng = position.coords.longitude;\r\n              this.calculateDistances();\r\n            },\r\n            (error) => {\r\n              console.error(\"Error getting location: \", error);\r\n            }\r\n        );\r\n      } else {\r\n        alert(\"Geolocation is not supported by this browser.\");\r\n      }\r\n    },\r\n    calculateDistances() {\r\n      if (this.currentPosition.lat !== null && this.currentPosition.lng !== null) {\r\n        this.cinemas.forEach((cinema) => {\r\n          cinema.distance = this.getDistanceFromLatLonInKm(\r\n              this.currentPosition.lat,\r\n              this.currentPosition.lng,\r\n              cinema.lat,\r\n              cinema.lng\r\n          ).toFixed(2);\r\n        });\r\n      }\r\n    },\r\n    getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {\r\n      const R = 6371; // Radius of the earth in km\r\n      const dLat = this.deg2rad(lat2 - lat1);\r\n      const dLon = this.deg2rad(lon1 - lon2);\r\n      const a =\r\n          Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n          Math.cos(this.deg2rad(lat1)) * Math.cos(this.deg2rad(lat2)) *\r\n          Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n      const distance = R * c; // Distance in km\r\n      return distance;\r\n    },\r\n    deg2rad(deg) {\r\n      return deg * (Math.PI / 180);\r\n    },\r\n    getDefaultDate() {\r\n      const today = new Date();\r\n      const yyyy = today.getFullYear();\r\n      const mm = String(today.getMonth() + 1).padStart(2, '0'); // Months are zero-based\r\n      const dd = String(today.getDate()).padStart(2, '0');\r\n      return `${yyyy}-${mm}-${dd}`;\r\n    },\r\n    getNextWeekDates() {\r\n      const dates = [];\r\n      for (let i = 0; i < 7; i++) {\r\n        const date = new Date();\r\n        date.setDate(date.getDate() + i);\r\n        dates.push(date.toISOString().split('T')[0]);\r\n      }\r\n      return dates;\r\n    },\r\n    formatDate(date) {\r\n      const [year, month, day] = date.split('-');\r\n      const dateObj = new Date(year, month - 1, day);\r\n      const dayNames = ['CN', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7'];\r\n      return `${day}/${month} - ${dayNames[dateObj.getDay()]}`;\r\n    },\r\n    updateBooking(cinema) {\r\n      if (cinema.selectedDate && cinema.selectedTime) {\r\n        cinema.bookingDetails = {\r\n          date: cinema.selectedDate,\r\n          time: cinema.selectedTime,\r\n        };\r\n      }\r\n    },\r\n    selectCinema(cinema) {\r\n      this.selectedCinemaId = cinema.id;\r\n    },\r\n    selectDate(date) {\r\n      this.selectedDate = date;\r\n    },\r\n    openConfirmationModal(cinema, time) {\r\n      this.selectedCinema = cinema;\r\n      this.selectedTime = time;\r\n      this.confirmationDialog = true;\r\n    },\r\n    closeConfirmationModal() {\r\n      this.confirmationDialog = false;\r\n    },\r\n    confirmBooking() {\r\n      this.confirmationDialog = false;\r\n      // Redirect to seat selection page\r\n      this.$router.push({ name: 'seat-selection', params: { cinemaId: this.selectedCinema.id, time: this.selectedTime } });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getCurrentPosition();\r\n    this.fetchMovies();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.modal-body {\r\n  height: 430px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.nav-tabs {\r\n  list-style: none;\r\n  margin-bottom: 10px;\r\n  margin-left: 1%;\r\n  margin-right: 1%;\r\n}\r\n\r\n.nav-tabs .active a {\r\n  font-weight: bold;\r\n}\r\n\r\n.tab-content {\r\n  margin-top: 20px;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.col-md-16 {\r\n  width: 100%;\r\n}\r\n\r\n.col-lg-2, .col-md-2, .col-sm-3, .col-xs-5 {\r\n  width: 16.66%;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.text-center {\r\n  text-align: center;\r\n}\r\n\r\n.btn.default {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 10px;\r\n  background-color: #ccc;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.font-smaller {\r\n  font-size: 0.9em;\r\n  padding-top: 5px;\r\n}\r\n\r\n.font-lg {\r\n  font-size: 1.2em;\r\n}\r\n\r\n.bold {\r\n  font-weight: bold;\r\n}\r\n\r\n.font-transform-uppercase {\r\n  text-transform: uppercase;\r\n}\r\n\r\n.font-38 {\r\n  font-size: 1.5em;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}