{"remainingRequest":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\src\\components\\MovieGenreFilter.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\src\\components\\MovieGenreFilter.vue","mtime":1716619617838},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1716061179295},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\vue-loader\\lib\\index.js","mtime":1716061158047}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIGltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7DQogIA0KICBleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIG1vdmllczogW10sDQogICAgICAgIGdlbnJlczogW10sDQogICAgICAgIHNlbGVjdGVkR2VucmU6IG51bGwsDQogICAgICAgIHNlbGVjdGVkUmF0aW5nOiAwLA0KICAgICAgICBmaWx0ZXJlZE1vdmllczogW10sDQogICAgICAgIHJhdGluZ09wdGlvbnM6IFsNCiAgICAgICAgICB7IGxhYmVsOiAnMSBzYW8gdHLhu58gbMOqbicsIHZhbHVlOiAxIH0sDQogICAgICAgICAgeyBsYWJlbDogJzIgc2FvIHRy4bufIGzDqm4nLCB2YWx1ZTogMiB9LA0KICAgICAgICAgIHsgbGFiZWw6ICczIHNhbyB0cuG7nyBsw6puJywgdmFsdWU6IDMgfSwNCiAgICAgICAgICB7IGxhYmVsOiAnNCBzYW8gdHLhu58gbMOqbicsIHZhbHVlOiA0IH0sDQogICAgICAgICAgeyBsYWJlbDogJzUgc2FvJywgdmFsdWU6IDUgfSwNCiAgICAgICAgXSwNCg0KICAgICAgfTsNCiAgICB9LA0KICAgIGFzeW5jIGZldGNoR2VucmVzKCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRodHRwLmdldCgiL2dlbnJlL21vdmllL2xpc3QiKTsNCiAgICAgICAgdGhpcy5nZW5yZXMgPSByZXNwb25zZS5kYXRhLmdlbnJlczsNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIGZldGNoTW92aWVzKCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRodHRwLmdldCgiL21vdmllL3BvcHVsYXIiKTsNCiAgICAgICAgdGhpcy5tb3ZpZXMgPSByZXNwb25zZS5kYXRhLnJlc3VsdHM7DQogICAgICAgIHRoaXMuZmlsdGVyZWRNb3ZpZXMgPSB0aGlzLm1vdmllczsNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGZpbHRlck1vdmllcygpIHsNCiAgICAgIHRoaXMuZmlsdGVyZWRNb3ZpZXMgPSB0aGlzLm1vdmllcy5maWx0ZXIobW92aWUgPT4gew0KICAgICAgICBjb25zdCBtYXRjaGVzR2VucmUgPSB0aGlzLnNlbGVjdGVkR2VucmUgPyBtb3ZpZS5nZW5yZV9pZHMuaW5jbHVkZXModGhpcy5zZWxlY3RlZEdlbnJlKSA6IHRydWU7DQogICAgICAgIGNvbnN0IG1hdGNoZXNSYXRpbmcgPSBtb3ZpZS52b3RlX2F2ZXJhZ2UgPj0gdGhpcy5zZWxlY3RlZFJhdGluZyAqIDIgLSAyOyAvLyAxIHNhbyBsw6AgdOG7qyAwIMSR4bq/biAyLCAyIHNhbyBsw6AgdOG7qyAyIMSR4bq/biA0LCAuLi4NCiAgICAgICAgcmV0dXJuIG1hdGNoZXNHZW5yZSAmJiBtYXRjaGVzUmF0aW5nOw0KICAgICAgfSk7DQogICAgfQ0KICB9Ow0KICA="},{"version":3,"sources":["MovieGenreFilter.vue"],"names":[],"mappings":";AA6BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MovieGenreFilter.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n      <h2>Filter by Genre</h2>\r\n      <v-row>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <v-select\r\n              v-model=\"selectedGenre\"\r\n              :items=\"genres\"\r\n              item-text=\"name\"\r\n              item-value=\"id\"\r\n              label=\"Chọn thể loại\"\r\n              @change=\"filterMovies\"\r\n          ></v-select>\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <v-select\r\n              v-model=\"selectedRating\"\r\n              :items=\"ratingOptions\"\r\n              item-text=\"label\"\r\n              item-value=\"value\"\r\n              label=\"Đánh giá tối thiểu\"\r\n              @change=\"filterMovies\"\r\n          ></v-select>\r\n        </v-col>\r\n      </v-row>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        movies: [],\r\n        genres: [],\r\n        selectedGenre: null,\r\n        selectedRating: 0,\r\n        filteredMovies: [],\r\n        ratingOptions: [\r\n          { label: '1 sao trở lên', value: 1 },\r\n          { label: '2 sao trở lên', value: 2 },\r\n          { label: '3 sao trở lên', value: 3 },\r\n          { label: '4 sao trở lên', value: 4 },\r\n          { label: '5 sao', value: 5 },\r\n        ],\r\n\r\n      };\r\n    },\r\n    async fetchGenres() {\r\n      try {\r\n        const response = await this.$http.get(\"/genre/movie/list\");\r\n        this.genres = response.data.genres;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    async fetchMovies() {\r\n      try {\r\n        const response = await this.$http.get(\"/movie/popular\");\r\n        this.movies = response.data.results;\r\n        this.filteredMovies = this.movies;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    filterMovies() {\r\n      this.filteredMovies = this.movies.filter(movie => {\r\n        const matchesGenre = this.selectedGenre ? movie.genre_ids.includes(this.selectedGenre) : true;\r\n        const matchesRating = movie.vote_average >= this.selectedRating * 2 - 2; // 1 sao là từ 0 đến 2, 2 sao là từ 2 đến 4, ...\r\n        return matchesGenre && matchesRating;\r\n      });\r\n    }\r\n  };\r\n  </script>"]}]}