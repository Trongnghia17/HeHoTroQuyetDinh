{"remainingRequest":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\src\\components\\SelectCinemas.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\src\\components\\SelectCinemas.vue","mtime":1716625622978},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBMb2FkZXIgfSBmcm9tICJAZ29vZ2xlbWFwcy9qcy1hcGktbG9hZGVyIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjaW5lbWFzOiBbDQogICAgICAgIHsgaWQ6IDEsIG5hbWU6ICJS4bqhcCBDR1YgVmluY29tIELDoCBUcmnhu4d1IiwgbGF0OiAyMS4wMTA1MzgsIGxuZzogMTA1Ljg0NzM0NSB9LA0KICAgICAgICB7IGlkOiAyLCBuYW1lOiAiUuG6oXAgQkhEIFN0YXIgVmluY29tIFBo4bqhbSBOZ+G7jWMgVGjhuqFjaCIsIGxhdDogMjEuMDAzNzY0LCBsbmc6IDEwNS44Mzc1NTUgfSwNCiAgICAgICAgeyBpZDogMywgbmFtZTogIlLhuqFwIExvdHRlIENpbmVtYSBMYW5kbWFyayIsIGxhdDogMjEuMDI0NDk5LCBsbmc6IDEwNS44MzQxNjAgfSwNCiAgICAgICAgLy8gVGjDqm0gdGjDtG5nIHRpbiB24buBIGPDoWMgcuG6oXAga2jDoWMgbuG6v3UgY+G6p24NCiAgICAgIF0sDQogICAgICBjdXJyZW50UG9zaXRpb246IHsgbGF0OiBudWxsLCBsbmc6IG51bGwgfSwNCiAgICAgIGdvb2dsZU1hcHNBcGlLZXk6ICdZT1VSX0dPT0dMRV9NQVBTX0FQSV9LRVknLCAvLyBUaGF5IGLhurFuZyBBUEkga2V5IGPhu6dhIGLhuqFuDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldEN1cnJlbnRQb3NpdGlvbigpIHsNCiAgICAgIGlmIChuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHsNCiAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigNCiAgICAgICAgICAgIChwb3NpdGlvbikgPT4gew0KICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbi5sYXQgPSBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7DQogICAgICAgICAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uLmxuZyA9IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7DQogICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlRGlzdGFuY2VzKCk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgKGVycm9yKSA9PiB7DQogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGdldHRpbmcgbG9jYXRpb246ICIsIGVycm9yKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGFsZXJ0KCJHZW9sb2NhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci4iKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGNhbGN1bGF0ZURpc3RhbmNlcygpIHsNCiAgICAgIGlmICh0aGlzLmN1cnJlbnRQb3NpdGlvbi5sYXQgIT09IG51bGwgJiYgdGhpcy5jdXJyZW50UG9zaXRpb24ubG5nICE9PSBudWxsKSB7DQogICAgICAgIHRoaXMuY2luZW1hcy5mb3JFYWNoKChjaW5lbWEpID0+IHsNCiAgICAgICAgICBjaW5lbWEuZGlzdGFuY2UgPSB0aGlzLmdldERpc3RhbmNlRnJvbUxhdExvbkluS20oDQogICAgICAgICAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uLmxhdCwNCiAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9zaXRpb24ubG5nLA0KICAgICAgICAgICAgICBjaW5lbWEubGF0LA0KICAgICAgICAgICAgICBjaW5lbWEubG5nDQogICAgICAgICAgKS50b0ZpeGVkKDIpOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldERpc3RhbmNlRnJvbUxhdExvbkluS20obGF0MSwgbG9uMSwgbGF0MiwgbG9uMikgew0KICAgICAgY29uc3QgUiA9IDYzNzE7IC8vIFJhZGl1cyBvZiB0aGUgZWFydGggaW4ga20NCiAgICAgIGNvbnN0IGRMYXQgPSB0aGlzLmRlZzJyYWQobGF0MiAtIGxhdDEpOw0KICAgICAgY29uc3QgZExvbiA9IHRoaXMuZGVnMnJhZChsb24yIC0gbG9uMSk7DQogICAgICBjb25zdCBhID0NCiAgICAgICAgICBNYXRoLnNpbihkTGF0IC8gMikgKiBNYXRoLnNpbihkTGF0IC8gMikgKw0KICAgICAgICAgIE1hdGguY29zKHRoaXMuZGVnMnJhZChsYXQxKSkgKiBNYXRoLmNvcyh0aGlzLmRlZzJyYWQobGF0MikpICoNCiAgICAgICAgICBNYXRoLnNpbihkTG9uIC8gMikgKiBNYXRoLnNpbihkTG9uIC8gMik7DQogICAgICBjb25zdCBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTsNCiAgICAgIGNvbnN0IGRpc3RhbmNlID0gUiAqIGM7IC8vIERpc3RhbmNlIGluIGttDQogICAgICByZXR1cm4gZGlzdGFuY2U7DQogICAgfSwNCiAgICBkZWcycmFkKGRlZykgew0KICAgICAgcmV0dXJuIGRlZyAqIChNYXRoLlBJIC8gMTgwKTsNCiAgICB9LA0KICAgIGxvYWRHb29nbGVNYXBzKCkgew0KICAgICAgY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcih7DQogICAgICAgIGFwaUtleTogdGhpcy5nb29nbGVNYXBzQXBpS2V5LA0KICAgICAgICB2ZXJzaW9uOiAid2Vla2x5IiwNCiAgICAgIH0pOw0KICAgICAgbG9hZGVyLmxvYWQoKS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy5nZXRDdXJyZW50UG9zaXRpb24oKTsNCiAgICAgIH0pOw0KICAgIH0sDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5sb2FkR29vZ2xlTWFwcygpOw0KICB9DQp9Ow0K"},{"version":3,"sources":["SelectCinemas.vue"],"names":[],"mappings":";AAcA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SelectCinemas.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <h1>Chọn rạp chiếu phim</h1>\r\n    <ul>\r\n      <li v-for=\"cinema in cinemas\" :key=\"cinema.id\">\r\n        <router-link :to=\"{ name: 'BookTickets', params: { cinemaId: cinema.id }}\">\r\n          {{ cinema.name }} - Cách đây: {{ cinema.distance }} km\r\n        </router-link>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Loader } from \"@googlemaps/js-api-loader\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      cinemas: [\r\n        { id: 1, name: \"Rạp CGV Vincom Bà Triệu\", lat: 21.010538, lng: 105.847345 },\r\n        { id: 2, name: \"Rạp BHD Star Vincom Phạm Ngọc Thạch\", lat: 21.003764, lng: 105.837555 },\r\n        { id: 3, name: \"Rạp Lotte Cinema Landmark\", lat: 21.024499, lng: 105.834160 },\r\n        // Thêm thông tin về các rạp khác nếu cần\r\n      ],\r\n      currentPosition: { lat: null, lng: null },\r\n      googleMapsApiKey: 'YOUR_GOOGLE_MAPS_API_KEY', // Thay bằng API key của bạn\r\n    };\r\n  },\r\n  methods: {\r\n    getCurrentPosition() {\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(\r\n            (position) => {\r\n              this.currentPosition.lat = position.coords.latitude;\r\n              this.currentPosition.lng = position.coords.longitude;\r\n              this.calculateDistances();\r\n            },\r\n            (error) => {\r\n              console.error(\"Error getting location: \", error);\r\n            }\r\n        );\r\n      } else {\r\n        alert(\"Geolocation is not supported by this browser.\");\r\n      }\r\n    },\r\n    calculateDistances() {\r\n      if (this.currentPosition.lat !== null && this.currentPosition.lng !== null) {\r\n        this.cinemas.forEach((cinema) => {\r\n          cinema.distance = this.getDistanceFromLatLonInKm(\r\n              this.currentPosition.lat,\r\n              this.currentPosition.lng,\r\n              cinema.lat,\r\n              cinema.lng\r\n          ).toFixed(2);\r\n        });\r\n      }\r\n    },\r\n    getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {\r\n      const R = 6371; // Radius of the earth in km\r\n      const dLat = this.deg2rad(lat2 - lat1);\r\n      const dLon = this.deg2rad(lon2 - lon1);\r\n      const a =\r\n          Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n          Math.cos(this.deg2rad(lat1)) * Math.cos(this.deg2rad(lat2)) *\r\n          Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n      const distance = R * c; // Distance in km\r\n      return distance;\r\n    },\r\n    deg2rad(deg) {\r\n      return deg * (Math.PI / 180);\r\n    },\r\n    loadGoogleMaps() {\r\n      const loader = new Loader({\r\n        apiKey: this.googleMapsApiKey,\r\n        version: \"weekly\",\r\n      });\r\n      loader.load().then(() => {\r\n        this.getCurrentPosition();\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadGoogleMaps();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Thêm CSS tùy chỉnh nếu cần */\r\n</style>\r\n"]}]}