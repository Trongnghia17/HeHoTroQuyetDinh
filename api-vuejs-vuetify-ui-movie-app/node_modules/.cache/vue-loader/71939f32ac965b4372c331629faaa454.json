{"remainingRequest":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\src\\components\\SelectCinemas.vue?vue&type=style&index=0&id=b2b8e7f4&lang=css","dependencies":[{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\src\\components\\SelectCinemas.vue","mtime":1716625622978},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HeHoTroQuyetDinh\\api-vuejs-vuetify-ui-movie-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQovKiBUaMOqbSBDU1MgdMO5eSBjaOG7iW5oIG7hur91IGPhuqduICovDQo="},{"version":3,"sources":["SelectCinemas.vue"],"names":[],"mappings":";AA0FA","file":"SelectCinemas.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <h1>Chọn rạp chiếu phim</h1>\r\n    <ul>\r\n      <li v-for=\"cinema in cinemas\" :key=\"cinema.id\">\r\n        <router-link :to=\"{ name: 'BookTickets', params: { cinemaId: cinema.id }}\">\r\n          {{ cinema.name }} - Cách đây: {{ cinema.distance }} km\r\n        </router-link>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Loader } from \"@googlemaps/js-api-loader\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      cinemas: [\r\n        { id: 1, name: \"Rạp CGV Vincom Bà Triệu\", lat: 21.010538, lng: 105.847345 },\r\n        { id: 2, name: \"Rạp BHD Star Vincom Phạm Ngọc Thạch\", lat: 21.003764, lng: 105.837555 },\r\n        { id: 3, name: \"Rạp Lotte Cinema Landmark\", lat: 21.024499, lng: 105.834160 },\r\n        // Thêm thông tin về các rạp khác nếu cần\r\n      ],\r\n      currentPosition: { lat: null, lng: null },\r\n      googleMapsApiKey: 'YOUR_GOOGLE_MAPS_API_KEY', // Thay bằng API key của bạn\r\n    };\r\n  },\r\n  methods: {\r\n    getCurrentPosition() {\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(\r\n            (position) => {\r\n              this.currentPosition.lat = position.coords.latitude;\r\n              this.currentPosition.lng = position.coords.longitude;\r\n              this.calculateDistances();\r\n            },\r\n            (error) => {\r\n              console.error(\"Error getting location: \", error);\r\n            }\r\n        );\r\n      } else {\r\n        alert(\"Geolocation is not supported by this browser.\");\r\n      }\r\n    },\r\n    calculateDistances() {\r\n      if (this.currentPosition.lat !== null && this.currentPosition.lng !== null) {\r\n        this.cinemas.forEach((cinema) => {\r\n          cinema.distance = this.getDistanceFromLatLonInKm(\r\n              this.currentPosition.lat,\r\n              this.currentPosition.lng,\r\n              cinema.lat,\r\n              cinema.lng\r\n          ).toFixed(2);\r\n        });\r\n      }\r\n    },\r\n    getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {\r\n      const R = 6371; // Radius of the earth in km\r\n      const dLat = this.deg2rad(lat2 - lat1);\r\n      const dLon = this.deg2rad(lon2 - lon1);\r\n      const a =\r\n          Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n          Math.cos(this.deg2rad(lat1)) * Math.cos(this.deg2rad(lat2)) *\r\n          Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n      const distance = R * c; // Distance in km\r\n      return distance;\r\n    },\r\n    deg2rad(deg) {\r\n      return deg * (Math.PI / 180);\r\n    },\r\n    loadGoogleMaps() {\r\n      const loader = new Loader({\r\n        apiKey: this.googleMapsApiKey,\r\n        version: \"weekly\",\r\n      });\r\n      loader.load().then(() => {\r\n        this.getCurrentPosition();\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadGoogleMaps();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Thêm CSS tùy chỉnh nếu cần */\r\n</style>\r\n"]}]}